<!DOCTYPE html>
<html>
  <head>
    <title>Myapp</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>

    <!-- Google Fonts: Newsreader -->
    <link href="https://fonts.googleapis.com/css2?family=Newsreader:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    >

    <!-- Apply Newsreader to the whole site -->
    <style>
      body {
        font-family: "Newsreader", serif;
        font-optical-sizing: auto;
        font-weight: 400;
        font-style: normal;
      }
    </style>
  </head>

  <body>
    <nav class="navbar py-0" style="background-color: #C29CE4;">
      <div class="container-fluid">
        <a class="navbar-brand fw-bold text-uppercase fs-1 text-decoration-none"
          href="#"
          style="color: #29264C;">
          School Manager
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas"
                data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar"
                aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar"
            aria-labelledby="offcanvasNavbarLabel"
            style="background-color: #CEB5D4; color: #2E0854;">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Menu</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas"
                    aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <ul class="navbar-nav">
              <li class="nav-item">
                <%= link_to "Students", students_path, class: "nav-link text-white" %>
              </li>
              <li class="nav-item">
                <%= link_to "Teachers", teachers_path, class: "nav-link text-white" %>
              </li>
              <li class="nav-item">
                <%= link_to "Sections", sections_path, class: "nav-link text-white" %>
              </li>
              <li class="nav-item">
                <%= link_to "Departments", departments_path, class: "nav-link text-white" %>
              </li>
              <li class="nav-item">
                <%= link_to "Classlists", classlists_path, class: "nav-link text-white" %>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </nav>

    <% flash.each do |key, message| %>
      <div class="alert alert-<%= key == "notice" ? "success" : "danger" %> alert-dismissible fade show" role="alert">
        <%= message %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    <% end %>

    <%= yield %>

    <!-- Bootstrap JS (for offcanvas and toggler) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
